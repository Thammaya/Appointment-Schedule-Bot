openapi: 3.0.0
info:
  title: Appointment Scheduling Tool
  description: Tool for retrieving available appointment slots from BigQuery via Cloud Functions.
  version: 1.0.0
servers:
  - url: https://YOUR_REGION-YOUR_PROJECT_ID.cloudfunctions.net/appointmentWebhook
    description: Google Cloud Function Production Server
paths:
  /getAvailableSlots:
    post:
      summary: Retrieve available appointment slots
      operationId: getAvailableSlots
      description: Fetches available slots for a specific department. [cite_start]Can also fetch the next three future slots if no immediate openings exist.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                department:
                  type: string
                  description: The medical department (Radiology, Cardiology, Ophthalmology).
                  example: "Radiology"
                futureOnly:
                  type: boolean
                  description: If true, retrieves the next three available future slots regardless of current date.
                  default: false
      responses:
        '200':
          description: A list of available slots.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    slot_id:
                      type: string
                      description: Unique identifier for the appointment slot.
                    slot_date:
                      type: string
                      format: date
                      [cite_start]description: The date of the appointment.
                    slot_time:
                      type: string
                      format: time
                      description: The time of the appointment.
        '500':
          description: Backend or System Error.
